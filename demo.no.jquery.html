<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Filter lists</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style>
			/* these rules are for demo only */
		 	.no-results {
				display: none;
			}

			ul.is-empty + .no-results {
				display: block;
			}

			li.last-visible-item {
				background: yellow;
			}
		</style>
	</head>
	<body>
		<label>Filter by continent:</label>
		<select name="continent">
			<option selected value="all">All</option>
			<option value="asia">Asia</option>
			<option value="africa">Africa</option>
			<option value="eu">Europe</option>
			<option value="na">North America</option>
			<option value="sa">South America</option>
		</select>
		<label>
			<input type="checkbox" name="gdp" value="high" />
			Show only rich countries!
		</label>
		<button class="js-reset">Reset all filters</button>
		<h2>Countries:</h2>
		<ul class="myList" data-filter-names="continent gdp" data-filter-continent-ignore="all">
			<li data-filter-continent="asia">Afghanistan</li>
			<li data-filter-continent="asia">Bangladesh</li>
			<li data-filter-continent="asia" data-filter-gdp="high">Singapore</li>
			<li data-filter-continent="asia" data-filter-gdp="high">Qatar</li>
			<li data-filter-continent="asia">Japan</li>
			<li data-filter-continent="asia">Nepal</li>
			<li data-filter-continent="africa">Algeria</li>
			<li data-filter-continent="africa">Angola</li>
			<li data-filter-continent="africa">Burkina</li>
			<li data-filter-continent="africa">Burundi</li>
			<li data-filter-continent="africa">Cameroon</li>
			<li data-filter-continent="africa">Chad</li>
			<li data-filter-continent="africa">Egypt</li>
			<li data-filter-continent="eu">Belarus</li>
			<li data-filter-continent="eu" data-filter-gdp="high">Luxembourg</li>
			<li data-filter-continent="eu">Denmark</li>
			<li data-filter-continent="eu" data-filter-gdp="high">Germany</li>
			<li data-filter-continent="eu">France</li>
			<li data-filter-continent="eu">Italy</li>
			<li data-filter-continent="na">Bahamas</li>
			<li data-filter-continent="na" data-filter-gdp="high">Canada</li>
			<li data-filter-continent="na" data-filter-gdp="high">United States</li>
			<li data-filter-continent="sa">Argentina</li>
			<li data-filter-continent="sa">Brazil</li>
			<li data-filter-continent="sa">Chile</li>
			<li data-filter-continent="sa">Uruguay</li>
		</ul>
		<p class="no-results">No results found!</p>
		<script src="filterList.js"></script>
		<script>
			var filter = new FilterList({
				element: document.querySelector('.myList'),
				urlIsUpdatable: true,
				lastClass: 'last-visible-item',

				//is invoked after class is initialized
				initCallback: function() {
					console.log('initCallback', this);
					document.querySelector('button.js-reset').addEventListener('click', () => {
						this.setFilters({
							'continent': 'all',
							'gdp': undefined
						});
					});
				},

				//is invoked every time filters are applied
				filtersCallback: function() {
					console.log('filtersCallback', this.filters);
				}
			});
		</script>
    </body>
</html>
