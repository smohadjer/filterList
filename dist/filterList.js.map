{"version":3,"file":"filterList.js","sources":["src/utils.js","src/filterList.js"],"sourcesContent":["export function getUrlParameter(sParam) {\n\tvar sPageURL = decodeURIComponent(window.location.search.substring(1)),\n\t\tsURLVariables = sPageURL.split('&'),\n\t\tsParameterName,\n\t\ti;\n\n\tfor (i = 0; i < sURLVariables.length; i++) {\n\t\tsParameterName = sURLVariables[i].split('=');\n\n\t\tif (sParameterName[0] === sParam) {\n\t\t\treturn sParameterName[1] === undefined ? true : sParameterName[1];\n\t\t}\n\t}\n}\n\nexport function updateQueryStringParameter(uri, key, value) {\n\tvar re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n\tvar separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\n\n\tif (uri.match(re)) {\n\t\treturn uri.replace(re, '$1' + key + \"=\" + value + '$2');\n\t} else {\n\t\treturn uri + separator + key + \"=\" + value;\n\t}\n}\n\nexport function removeURLParameter(url, parameter) {\n    //prefer to use l.search if you have a location/link object\n    var urlparts= url.split('?');\n    if (urlparts.length >= 2) {\n        var prefix= encodeURIComponent(parameter)+'=';\n        var pars= urlparts[1].split(/[&;]/g);\n\n        //reverse iteration as may be destructive\n        for (var i= pars.length; i-- > 0;) {\n            //idiom for string.startsWith\n            if (pars[i].lastIndexOf(prefix, 0) !== -1) {\n                pars.splice(i, 1);\n            }\n        }\n\n        url= urlparts[0] + (pars.length > 0 ? '?' + pars.join('&') : \"\");\n        return url;\n    } else {\n        return url;\n    }\n}\n","/*\n * @name          filterList.js\n * @version       3.1.0\n * @lastmodified  2018-02-06\n * @author        Saeid Mohadjer\n * @repo\t\t  https://github.com/smohadjer/filterList\n *\n * Licensed under the MIT License\n */\n\nimport * as utils from './utils.js';\n\n'use strict';\n\nexport default class FilterList {\n\tconstructor(options) {\n\t\tthis.urlIsUpdatable = (options.urlIsUpdatable === undefined) ? false : options.urlIsUpdatable;\n\t\tthis.element = options.element;\n\t\tthis.filters = [];\n\t\tthis.filterNames = this.element.getAttribute('data-filter-names').split(' ');\n\t\tthis.initCallback = options.initCallback;\n\t\tthis.filtersCallback = options.filtersCallback;\n\t\tthis.url = window.location.href;\n\t\tthis.lastClass = options.lastClass || 'last';\n\t\tthis.hiddenClass = options.hiddenClass || 'hidden';\n\t\tthis.excludeClass = options.excludeFromFilteringClass || 'filterList__exclude';\n\t\tthis.filterSelector = options.filterSelector;\n\n\t\tthis.setEventHandlers();\n\t\tthis.setDefaultFilters(this.filterNames);\n\t\tthis.updateFiltersfromURL();\n\t\tthis.updateBrowserHistory();\n\n\t\tif (typeof this.initCallback === 'function') {\n\t\t\tthis.initCallback();\n\t\t}\n\n\t\tthis.applyFilters();\n\t}\n\n\tupdateBrowserHistory() {\n\t\tif (this.urlIsUpdatable && window.history && window.history.pushState) {\n\t\t\tlet state = {};\n\t\t\tstate.filters = this.filters.slice();\n\t\t\thistory.replaceState(state, document.title, this.url);\n\t\t}\n\t}\n\n\tsetDefaultFilters(filterNames) {\n\t\tfilterNames.forEach((filterName) => {\n\t\t\tconst ignoreValue = this.getFilterIgnoreValue(filterName);\n\t\t\tconst filterValue = this.getFilterValue(filterName);\n\n\t\t\tthis.filters.push({\n\t\t\t\tname: filterName,\n\t\t\t\tvalue: filterValue,\n\t\t\t\tignoreValue: ignoreValue\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFilterIgnoreValue(filterName) {\n\t\tconst filterElement = document.querySelector(`[name=\"${filterName}\"]`);\n\t\tlet ignoreValue;\n\n\t\tif (filterElement) {\n\t\t\tif (filterElement.tagName === 'SELECT') {\n\t\t\t\tignoreValue = filterElement.getAttribute('data-ignore');\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn('No filter with name ' + filterName + ' was found in markup!');\n\t\t}\n\n\t\treturn ignoreValue;\n\t}\n\n\tgetFilterValue(filterName) {\n\t\tconst filterElement = document.querySelector(`[name=\"${filterName}\"]`);\n\t\tlet filterValue;\n\n\t\tif (filterElement) {\n\t\t\tif (filterElement.getAttribute('type') === 'checkbox') {\n\t\t\t\tfilterValue = filterElement.checked ? filterElement.value : undefined;\n\t\t\t} else {\n\t\t\t\tfilterValue = filterElement.value;\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn('No filter with name ' + filterName + ' was found in markup!');\n\t\t}\n\n\t\treturn filterValue;\n\t}\n\n\tupdateFiltersfromURL() {\n\t\tthis.filterNames.forEach((filterName) => {\n\t\t\tconst newValue = utils.getUrlParameter(filterName);\n\n\t\t\tif (newValue) {\n\t\t\t\tthis.updateFilters({\n\t\t\t\t\tname: filterName,\n\t\t\t\t\tvalue: newValue\n\t\t\t\t}, true);\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateFilters(updatedFilter, triggerEvent) {\n\t\tlet filter = this.filters.find((filter) => filter.name === updatedFilter.name);\n\n\t\tif (filter && filter.value !== updatedFilter.value) {\n\t\t\tfilter.value = updatedFilter.value;\n\t\t\tthis.applyFilters();\n\n\t\t\tif (triggerEvent) {\n\t\t\t\tthis.updateDOM([filter]);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetEventHandlers() {\n\t\tthis.filterNames.forEach((filterName) => {\n\t\t\tconst filterElement = document.querySelector('[name=\"' + filterName + '\"]');\n\n\t\t\tif (filterElement) {\n\t\t\t\tfilterElement.addEventListener('change', () => {\n\t\t\t\t\tthis.updateFilters({\n\t\t\t\t\t\tname: filterName,\n\t\t\t\t\t\tvalue: this.getFilterValue(filterName)\n\t\t\t\t\t});\n\n\t\t\t\t\tif (this.urlIsUpdatable) {\n\t\t\t\t\t\tthis.updateURL();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif (this.urlIsUpdatable && window.history && window.history.pushState) {\n\t\t\twindow.addEventListener(\"popstate\", (e) => {\n\t\t\t\tif (e.state.filters) {\n\t\t\t\t\tfor (let prop in e.state.filters) {\n\t\t\t\t\t\tthis.filters[prop] = e.state.filters[prop];\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.updateDOM(e.state.filters);\n\t\t\t\t\tthis.applyFilters();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateDOM(filtersArray) {\n\t\tfor (let i in filtersArray) {\n\t\t\tlet filter = filtersArray[i];\n\t\t\tlet filterElement = document.querySelector(`[name=\"${filter.name}\"]`);\n\n\t\t\tif (filterElement) {\n\t\t\t\tif (filterElement.tagName === 'SELECT') {\n\t\t\t\t\tfilterElement.value = filter.value;\n\t\t\t\t}\n\n\t\t\t\tif (filterElement.tagName === 'INPUT') {\n\t\t\t\t\tif (filterElement.getAttribute('type') === 'checkbox') {\n\t\t\t\t\t\tfilterElement.checked = (filterElement.value === filter.value) ? true : false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//public method for changing filters\n\tsetFilters(filters) {\n\t\tfor (let property in filters) {\n\t\t\tthis.filters.forEach(function(item) {\n\t\t\t\tif (item.name === property) {\n\t\t\t\t\titem.value = filters[property];\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tthis.updateDOM(this.filters);\n\t\tthis.applyFilters();\n\n\t\tif (this.urlIsUpdatable) {\n\t\t\tthis.updateURL();\n\t\t}\n\t}\n\n\tapplyFilters() {\n\t\tlet matchedItems = [];\n\t\tlet listItems;\n\t\tlet newListItems = [];\n\n\t\tif (this.filterSelector) {\n\t\t\tlistItems = this.element.querySelectorAll(this.filterSelector);\n\t\t} else {\n\t\t\tlistItems = this.element.children;\n\t\t}\n\n\t\t//exclude items that shouldn't be filtered\n\t\tfor (let item of listItems) {\n\t\t\tif (!item.classList.contains(this.excludeClass)) {\n\t\t\t\tnewListItems.push(item);\n\t\t\t}\n\t\t}\n\n\t\tif (this.lastClass) {\n\t\t\tlet lastVisibleElement = this.element.querySelector(`.${this.lastClass}`);\n\t\t\tif (lastVisibleElement) {\n\t\t\t\tlastVisibleElement.classList.remove(this.lastClass);\n\t\t\t}\n\t\t}\n\n\t\t// If filters are set, only items whose data attributes\n\t\t//match all the set filters would show\n\t\t[...newListItems].forEach((element) => {\n\t\t\tlet matched = true;\n\n\t\t\tthis.filters.forEach(function(filter) {\n\t\t\t\tif (filter.value !== undefined && filter.value !== filter.ignoreValue) {\n\t\t\t\t\t//any list item that doesn't have attribute for this filter or\n\t\t\t\t\t//has attribute for this filter with another value should\n\t\t\t\t\t//be filtered out.\n\t\t\t\t\tif (!element.hasAttribute('data-filter-' + filter.name) || element.getAttribute('data-filter-' + filter.name) !== filter.value) {\n\t\t\t\t\t\tmatched = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (matched) {\n\t\t\t\tmatchedItems.push(element);\n\t\t\t}\n\t\t});\n\n\t\t[...newListItems].forEach((el) => {\n\t\t\tel.classList.add(this.hiddenClass);\n\t\t});\n\n\t\tif (matchedItems.length !== 0) {\n\t\t\tmatchedItems.forEach((item, i) => {\n\t\t\t\titem.classList.remove(this.hiddenClass);\n\n\t\t\t\t//add a class to last visible item in the list in case last item in list needs special styling\n\t\t\t\tif (this.lastClass && i === matchedItems.length - 1) {\n\t\t\t\t\titem.classList.add(this.lastClass);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.element.classList.remove('is-empty');\n\t\t} else {\n\t\t\tthis.element.classList.add('is-empty');\n\t\t}\n\n\t\tif (typeof this.filtersCallback === 'function') {\n\t\t\tthis.filtersCallback();\n\t\t}\n\t}\n\n\tupdateURL() {\n\t\tif (window.history && window.history.pushState)\t{\n\t\t\tlet state = {};\n\t\t\tstate.filters = Object.assign({}, this.filters);\n\n\t\t\tthis.filters.forEach((filter) => {\n\t\t\t\tif (filter.value !== undefined && filter.value.length !== 0 && filter.value !== filter.ignoreValue) {\n\t\t\t\t\tthis.url = utils.updateQueryStringParameter(this.url, filter.name, filter.value);\n\t\t\t\t} else {\n\t\t\t\t\tthis.url = utils.removeURLParameter(this.url, filter.name);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thistory.pushState(state, document.title, this.url);\n\t\t}\n\t}\n}\n"],"names":["utils.getUrlParameter","utils.updateQueryStringParameter","utils.removeURLParameter"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9zbS9Eb2N1bWVudHMvZmlsdGVyTGlzdC9zcmMvdXRpbHMuanMiLCIvVXNlcnMvc20vRG9jdW1lbnRzL2ZpbHRlckxpc3Qvc3JjL2ZpbHRlckxpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihzUGFyYW0pIHtcblx0dmFyIHNQYWdlVVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcblx0XHRzVVJMVmFyaWFibGVzID0gc1BhZ2VVUkwuc3BsaXQoJyYnKSxcblx0XHRzUGFyYW1ldGVyTmFtZSxcblx0XHRpO1xuXG5cdGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XG5cblx0XHRpZiAoc1BhcmFtZXRlck5hbWVbMF0gPT09IHNQYXJhbSkge1xuXHRcdFx0cmV0dXJuIHNQYXJhbWV0ZXJOYW1lWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogc1BhcmFtZXRlck5hbWVbMV07XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlcih1cmksIGtleSwgdmFsdWUpIHtcblx0dmFyIHJlID0gbmV3IFJlZ0V4cChcIihbPyZdKVwiICsga2V5ICsgXCI9Lio/KCZ8JClcIiwgXCJpXCIpO1xuXHR2YXIgc2VwYXJhdG9yID0gdXJpLmluZGV4T2YoJz8nKSAhPT0gLTEgPyBcIiZcIiA6IFwiP1wiO1xuXG5cdGlmICh1cmkubWF0Y2gocmUpKSB7XG5cdFx0cmV0dXJuIHVyaS5yZXBsYWNlKHJlLCAnJDEnICsga2V5ICsgXCI9XCIgKyB2YWx1ZSArICckMicpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB1cmkgKyBzZXBhcmF0b3IgKyBrZXkgKyBcIj1cIiArIHZhbHVlO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVVUkxQYXJhbWV0ZXIodXJsLCBwYXJhbWV0ZXIpIHtcbiAgICAvL3ByZWZlciB0byB1c2UgbC5zZWFyY2ggaWYgeW91IGhhdmUgYSBsb2NhdGlvbi9saW5rIG9iamVjdFxuICAgIHZhciB1cmxwYXJ0cz0gdXJsLnNwbGl0KCc/Jyk7XG4gICAgaWYgKHVybHBhcnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZhciBwcmVmaXg9IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbWV0ZXIpKyc9JztcbiAgICAgICAgdmFyIHBhcnM9IHVybHBhcnRzWzFdLnNwbGl0KC9bJjtdL2cpO1xuXG4gICAgICAgIC8vcmV2ZXJzZSBpdGVyYXRpb24gYXMgbWF5IGJlIGRlc3RydWN0aXZlXG4gICAgICAgIGZvciAodmFyIGk9IHBhcnMubGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgICAgLy9pZGlvbSBmb3Igc3RyaW5nLnN0YXJ0c1dpdGhcbiAgICAgICAgICAgIGlmIChwYXJzW2ldLmxhc3RJbmRleE9mKHByZWZpeCwgMCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB1cmw9IHVybHBhcnRzWzBdICsgKHBhcnMubGVuZ3RoID4gMCA/ICc/JyArIHBhcnMuam9pbignJicpIDogXCJcIik7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG4iLCIvKlxuICogQG5hbWUgICAgICAgICAgZmlsdGVyTGlzdC5qc1xuICogQHZlcnNpb24gICAgICAgMy4xLjBcbiAqIEBsYXN0bW9kaWZpZWQgIDIwMTgtMDItMDZcbiAqIEBhdXRob3IgICAgICAgIFNhZWlkIE1vaGFkamVyXG4gKiBAcmVwb1x0XHQgIGh0dHBzOi8vZ2l0aHViLmNvbS9zbW9oYWRqZXIvZmlsdGVyTGlzdFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5cbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlckxpc3Qge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0dGhpcy51cmxJc1VwZGF0YWJsZSA9IChvcHRpb25zLnVybElzVXBkYXRhYmxlID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBvcHRpb25zLnVybElzVXBkYXRhYmxlO1xuXHRcdHRoaXMuZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcblx0XHR0aGlzLmZpbHRlcnMgPSBbXTtcblx0XHR0aGlzLmZpbHRlck5hbWVzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXItbmFtZXMnKS5zcGxpdCgnICcpO1xuXHRcdHRoaXMuaW5pdENhbGxiYWNrID0gb3B0aW9ucy5pbml0Q2FsbGJhY2s7XG5cdFx0dGhpcy5maWx0ZXJzQ2FsbGJhY2sgPSBvcHRpb25zLmZpbHRlcnNDYWxsYmFjaztcblx0XHR0aGlzLnVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcdHRoaXMubGFzdENsYXNzID0gb3B0aW9ucy5sYXN0Q2xhc3MgfHwgJ2xhc3QnO1xuXHRcdHRoaXMuaGlkZGVuQ2xhc3MgPSBvcHRpb25zLmhpZGRlbkNsYXNzIHx8ICdoaWRkZW4nO1xuXHRcdHRoaXMuZXhjbHVkZUNsYXNzID0gb3B0aW9ucy5leGNsdWRlRnJvbUZpbHRlcmluZ0NsYXNzIHx8ICdmaWx0ZXJMaXN0X19leGNsdWRlJztcblx0XHR0aGlzLmZpbHRlclNlbGVjdG9yID0gb3B0aW9ucy5maWx0ZXJTZWxlY3RvcjtcblxuXHRcdHRoaXMuc2V0RXZlbnRIYW5kbGVycygpO1xuXHRcdHRoaXMuc2V0RGVmYXVsdEZpbHRlcnModGhpcy5maWx0ZXJOYW1lcyk7XG5cdFx0dGhpcy51cGRhdGVGaWx0ZXJzZnJvbVVSTCgpO1xuXHRcdHRoaXMudXBkYXRlQnJvd3Nlckhpc3RvcnkoKTtcblxuXHRcdGlmICh0eXBlb2YgdGhpcy5pbml0Q2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMuaW5pdENhbGxiYWNrKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5hcHBseUZpbHRlcnMoKTtcblx0fVxuXG5cdHVwZGF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuXHRcdGlmICh0aGlzLnVybElzVXBkYXRhYmxlICYmIHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkge1xuXHRcdFx0bGV0IHN0YXRlID0ge307XG5cdFx0XHRzdGF0ZS5maWx0ZXJzID0gdGhpcy5maWx0ZXJzLnNsaWNlKCk7XG5cdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgZG9jdW1lbnQudGl0bGUsIHRoaXMudXJsKTtcblx0XHR9XG5cdH1cblxuXHRzZXREZWZhdWx0RmlsdGVycyhmaWx0ZXJOYW1lcykge1xuXHRcdGZpbHRlck5hbWVzLmZvckVhY2goKGZpbHRlck5hbWUpID0+IHtcblx0XHRcdGNvbnN0IGlnbm9yZVZhbHVlID0gdGhpcy5nZXRGaWx0ZXJJZ25vcmVWYWx1ZShmaWx0ZXJOYW1lKTtcblx0XHRcdGNvbnN0IGZpbHRlclZhbHVlID0gdGhpcy5nZXRGaWx0ZXJWYWx1ZShmaWx0ZXJOYW1lKTtcblxuXHRcdFx0dGhpcy5maWx0ZXJzLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBmaWx0ZXJOYW1lLFxuXHRcdFx0XHR2YWx1ZTogZmlsdGVyVmFsdWUsXG5cdFx0XHRcdGlnbm9yZVZhbHVlOiBpZ25vcmVWYWx1ZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRGaWx0ZXJJZ25vcmVWYWx1ZShmaWx0ZXJOYW1lKSB7XG5cdFx0Y29uc3QgZmlsdGVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWx0ZXJOYW1lfVwiXWApO1xuXHRcdGxldCBpZ25vcmVWYWx1ZTtcblxuXHRcdGlmIChmaWx0ZXJFbGVtZW50KSB7XG5cdFx0XHRpZiAoZmlsdGVyRWxlbWVudC50YWdOYW1lID09PSAnU0VMRUNUJykge1xuXHRcdFx0XHRpZ25vcmVWYWx1ZSA9IGZpbHRlckVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlnbm9yZScpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJ05vIGZpbHRlciB3aXRoIG5hbWUgJyArIGZpbHRlck5hbWUgKyAnIHdhcyBmb3VuZCBpbiBtYXJrdXAhJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlnbm9yZVZhbHVlO1xuXHR9XG5cblx0Z2V0RmlsdGVyVmFsdWUoZmlsdGVyTmFtZSkge1xuXHRcdGNvbnN0IGZpbHRlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmlsdGVyTmFtZX1cIl1gKTtcblx0XHRsZXQgZmlsdGVyVmFsdWU7XG5cblx0XHRpZiAoZmlsdGVyRWxlbWVudCkge1xuXHRcdFx0aWYgKGZpbHRlckVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdFx0ZmlsdGVyVmFsdWUgPSBmaWx0ZXJFbGVtZW50LmNoZWNrZWQgPyBmaWx0ZXJFbGVtZW50LnZhbHVlIDogdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZmlsdGVyVmFsdWUgPSBmaWx0ZXJFbGVtZW50LnZhbHVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJ05vIGZpbHRlciB3aXRoIG5hbWUgJyArIGZpbHRlck5hbWUgKyAnIHdhcyBmb3VuZCBpbiBtYXJrdXAhJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbHRlclZhbHVlO1xuXHR9XG5cblx0dXBkYXRlRmlsdGVyc2Zyb21VUkwoKSB7XG5cdFx0dGhpcy5maWx0ZXJOYW1lcy5mb3JFYWNoKChmaWx0ZXJOYW1lKSA9PiB7XG5cdFx0XHRjb25zdCBuZXdWYWx1ZSA9IHV0aWxzLmdldFVybFBhcmFtZXRlcihmaWx0ZXJOYW1lKTtcblxuXHRcdFx0aWYgKG5ld1ZhbHVlKSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlRmlsdGVycyh7XG5cdFx0XHRcdFx0bmFtZTogZmlsdGVyTmFtZSxcblx0XHRcdFx0XHR2YWx1ZTogbmV3VmFsdWVcblx0XHRcdFx0fSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHR1cGRhdGVGaWx0ZXJzKHVwZGF0ZWRGaWx0ZXIsIHRyaWdnZXJFdmVudCkge1xuXHRcdGxldCBmaWx0ZXIgPSB0aGlzLmZpbHRlcnMuZmluZCgoZmlsdGVyKSA9PiBmaWx0ZXIubmFtZSA9PT0gdXBkYXRlZEZpbHRlci5uYW1lKTtcblxuXHRcdGlmIChmaWx0ZXIgJiYgZmlsdGVyLnZhbHVlICE9PSB1cGRhdGVkRmlsdGVyLnZhbHVlKSB7XG5cdFx0XHRmaWx0ZXIudmFsdWUgPSB1cGRhdGVkRmlsdGVyLnZhbHVlO1xuXHRcdFx0dGhpcy5hcHBseUZpbHRlcnMoKTtcblxuXHRcdFx0aWYgKHRyaWdnZXJFdmVudCkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZURPTShbZmlsdGVyXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2V0RXZlbnRIYW5kbGVycygpIHtcblx0XHR0aGlzLmZpbHRlck5hbWVzLmZvckVhY2goKGZpbHRlck5hbWUpID0+IHtcblx0XHRcdGNvbnN0IGZpbHRlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIicgKyBmaWx0ZXJOYW1lICsgJ1wiXScpO1xuXG5cdFx0XHRpZiAoZmlsdGVyRWxlbWVudCkge1xuXHRcdFx0XHRmaWx0ZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUZpbHRlcnMoe1xuXHRcdFx0XHRcdFx0bmFtZTogZmlsdGVyTmFtZSxcblx0XHRcdFx0XHRcdHZhbHVlOiB0aGlzLmdldEZpbHRlclZhbHVlKGZpbHRlck5hbWUpXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRpZiAodGhpcy51cmxJc1VwZGF0YWJsZSkge1xuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVVUkwoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKHRoaXMudXJsSXNVcGRhdGFibGUgJiYgd2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIChlKSA9PiB7XG5cdFx0XHRcdGlmIChlLnN0YXRlLmZpbHRlcnMpIHtcblx0XHRcdFx0XHRmb3IgKGxldCBwcm9wIGluIGUuc3RhdGUuZmlsdGVycykge1xuXHRcdFx0XHRcdFx0dGhpcy5maWx0ZXJzW3Byb3BdID0gZS5zdGF0ZS5maWx0ZXJzW3Byb3BdO1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHR0aGlzLnVwZGF0ZURPTShlLnN0YXRlLmZpbHRlcnMpO1xuXHRcdFx0XHRcdHRoaXMuYXBwbHlGaWx0ZXJzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZURPTShmaWx0ZXJzQXJyYXkpIHtcblx0XHRmb3IgKGxldCBpIGluIGZpbHRlcnNBcnJheSkge1xuXHRcdFx0bGV0IGZpbHRlciA9IGZpbHRlcnNBcnJheVtpXTtcblx0XHRcdGxldCBmaWx0ZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpbHRlci5uYW1lfVwiXWApO1xuXG5cdFx0XHRpZiAoZmlsdGVyRWxlbWVudCkge1xuXHRcdFx0XHRpZiAoZmlsdGVyRWxlbWVudC50YWdOYW1lID09PSAnU0VMRUNUJykge1xuXHRcdFx0XHRcdGZpbHRlckVsZW1lbnQudmFsdWUgPSBmaWx0ZXIudmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZmlsdGVyRWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnKSB7XG5cdFx0XHRcdFx0aWYgKGZpbHRlckVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdFx0XHRcdGZpbHRlckVsZW1lbnQuY2hlY2tlZCA9IChmaWx0ZXJFbGVtZW50LnZhbHVlID09PSBmaWx0ZXIudmFsdWUpID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vcHVibGljIG1ldGhvZCBmb3IgY2hhbmdpbmcgZmlsdGVyc1xuXHRzZXRGaWx0ZXJzKGZpbHRlcnMpIHtcblx0XHRmb3IgKGxldCBwcm9wZXJ0eSBpbiBmaWx0ZXJzKSB7XG5cdFx0XHR0aGlzLmZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRcdGlmIChpdGVtLm5hbWUgPT09IHByb3BlcnR5KSB7XG5cdFx0XHRcdFx0aXRlbS52YWx1ZSA9IGZpbHRlcnNbcHJvcGVydHldO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0dGhpcy51cGRhdGVET00odGhpcy5maWx0ZXJzKTtcblx0XHR0aGlzLmFwcGx5RmlsdGVycygpO1xuXG5cdFx0aWYgKHRoaXMudXJsSXNVcGRhdGFibGUpIHtcblx0XHRcdHRoaXMudXBkYXRlVVJMKCk7XG5cdFx0fVxuXHR9XG5cblx0YXBwbHlGaWx0ZXJzKCkge1xuXHRcdGxldCBtYXRjaGVkSXRlbXMgPSBbXTtcblx0XHRsZXQgbGlzdEl0ZW1zO1xuXHRcdGxldCBuZXdMaXN0SXRlbXMgPSBbXTtcblxuXHRcdGlmICh0aGlzLmZpbHRlclNlbGVjdG9yKSB7XG5cdFx0XHRsaXN0SXRlbXMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmZpbHRlclNlbGVjdG9yKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGlzdEl0ZW1zID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuO1xuXHRcdH1cblxuXHRcdC8vZXhjbHVkZSBpdGVtcyB0aGF0IHNob3VsZG4ndCBiZSBmaWx0ZXJlZFxuXHRcdGZvciAobGV0IGl0ZW0gb2YgbGlzdEl0ZW1zKSB7XG5cdFx0XHRpZiAoIWl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuZXhjbHVkZUNsYXNzKSkge1xuXHRcdFx0XHRuZXdMaXN0SXRlbXMucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhpcy5sYXN0Q2xhc3MpIHtcblx0XHRcdGxldCBsYXN0VmlzaWJsZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5sYXN0Q2xhc3N9YCk7XG5cdFx0XHRpZiAobGFzdFZpc2libGVFbGVtZW50KSB7XG5cdFx0XHRcdGxhc3RWaXNpYmxlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMubGFzdENsYXNzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiBmaWx0ZXJzIGFyZSBzZXQsIG9ubHkgaXRlbXMgd2hvc2UgZGF0YSBhdHRyaWJ1dGVzXG5cdFx0Ly9tYXRjaCBhbGwgdGhlIHNldCBmaWx0ZXJzIHdvdWxkIHNob3dcblx0XHRbLi4ubmV3TGlzdEl0ZW1zXS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG5cdFx0XHRsZXQgbWF0Y2hlZCA9IHRydWU7XG5cblx0XHRcdHRoaXMuZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikge1xuXHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgZmlsdGVyLnZhbHVlICE9PSBmaWx0ZXIuaWdub3JlVmFsdWUpIHtcblx0XHRcdFx0XHQvL2FueSBsaXN0IGl0ZW0gdGhhdCBkb2Vzbid0IGhhdmUgYXR0cmlidXRlIGZvciB0aGlzIGZpbHRlciBvclxuXHRcdFx0XHRcdC8vaGFzIGF0dHJpYnV0ZSBmb3IgdGhpcyBmaWx0ZXIgd2l0aCBhbm90aGVyIHZhbHVlIHNob3VsZFxuXHRcdFx0XHRcdC8vYmUgZmlsdGVyZWQgb3V0LlxuXHRcdFx0XHRcdGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyLScgKyBmaWx0ZXIubmFtZSkgfHwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyLScgKyBmaWx0ZXIubmFtZSkgIT09IGZpbHRlci52YWx1ZSkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChtYXRjaGVkKSB7XG5cdFx0XHRcdG1hdGNoZWRJdGVtcy5wdXNoKGVsZW1lbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Wy4uLm5ld0xpc3RJdGVtc10uZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdGVsLmNsYXNzTGlzdC5hZGQodGhpcy5oaWRkZW5DbGFzcyk7XG5cdFx0fSk7XG5cblx0XHRpZiAobWF0Y2hlZEl0ZW1zLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0bWF0Y2hlZEl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaGlkZGVuQ2xhc3MpO1xuXG5cdFx0XHRcdC8vYWRkIGEgY2xhc3MgdG8gbGFzdCB2aXNpYmxlIGl0ZW0gaW4gdGhlIGxpc3QgaW4gY2FzZSBsYXN0IGl0ZW0gaW4gbGlzdCBuZWVkcyBzcGVjaWFsIHN0eWxpbmdcblx0XHRcdFx0aWYgKHRoaXMubGFzdENsYXNzICYmIGkgPT09IG1hdGNoZWRJdGVtcy5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMubGFzdENsYXNzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1lbXB0eScpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaXMtZW1wdHknKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHRoaXMuZmlsdGVyc0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0aGlzLmZpbHRlcnNDYWxsYmFjaygpO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZVVSTCgpIHtcblx0XHRpZiAod2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKVx0e1xuXHRcdFx0bGV0IHN0YXRlID0ge307XG5cdFx0XHRzdGF0ZS5maWx0ZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5maWx0ZXJzKTtcblxuXHRcdFx0dGhpcy5maWx0ZXJzLmZvckVhY2goKGZpbHRlcikgPT4ge1xuXHRcdFx0XHRpZiAoZmlsdGVyLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgZmlsdGVyLnZhbHVlLmxlbmd0aCAhPT0gMCAmJiBmaWx0ZXIudmFsdWUgIT09IGZpbHRlci5pZ25vcmVWYWx1ZSkge1xuXHRcdFx0XHRcdHRoaXMudXJsID0gdXRpbHMudXBkYXRlUXVlcnlTdHJpbmdQYXJhbWV0ZXIodGhpcy51cmwsIGZpbHRlci5uYW1lLCBmaWx0ZXIudmFsdWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMudXJsID0gdXRpbHMucmVtb3ZlVVJMUGFyYW1ldGVyKHRoaXMudXJsLCBmaWx0ZXIubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgZG9jdW1lbnQudGl0bGUsIHRoaXMudXJsKTtcblx0XHR9XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJ1dGlscy5nZXRVcmxQYXJhbWV0ZXIiLCJ1dGlscy51cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlciIsInV0aWxzLnJlbW92ZVVSTFBhcmFtZXRlciJdLCJtYXBwaW5ncyI6Ijs7O0FBQU8sU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFO0NBQ3ZDLElBQUksUUFBUSxHQUFHLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FB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"}