{"version":3,"file":"filterList.js","sources":["src/utils.js","src/filterList.js"],"sourcesContent":["export function getUrlParameter(sParam) {\n\tvar sPageURL = decodeURIComponent(window.location.search.substring(1)),\n\t\tsURLVariables = sPageURL.split('&'),\n\t\tsParameterName,\n\t\ti;\n\n\tfor (i = 0; i < sURLVariables.length; i++) {\n\t\tsParameterName = sURLVariables[i].split('=');\n\n\t\tif (sParameterName[0] === sParam) {\n\t\t\treturn sParameterName[1] === undefined ? true : sParameterName[1];\n\t\t}\n\t}\n}\n\nexport function updateQueryStringParameter(uri, key, value) {\n\tvar re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n\tvar separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\n\n\tif (uri.match(re)) {\n\t\treturn uri.replace(re, '$1' + key + \"=\" + value + '$2');\n\t} else {\n\t\treturn uri + separator + key + \"=\" + value;\n\t}\n}\n\nexport function removeURLParameter(url, parameter) {\n    //prefer to use l.search if you have a location/link object\n    var urlparts= url.split('?');\n    if (urlparts.length >= 2) {\n        var prefix= encodeURIComponent(parameter)+'=';\n        var pars= urlparts[1].split(/[&;]/g);\n\n        //reverse iteration as may be destructive\n        for (var i= pars.length; i-- > 0;) {\n            //idiom for string.startsWith\n            if (pars[i].lastIndexOf(prefix, 0) !== -1) {\n                pars.splice(i, 1);\n            }\n        }\n\n        url= urlparts[0] + (pars.length > 0 ? '?' + pars.join('&') : \"\");\n        return url;\n    } else {\n        return url;\n    }\n}\n","/*\n * @name          filterList.js\n * @version       3.1.0\n * @lastmodified  2018-02-06\n * @author        Saeid Mohadjer\n * @repo\t\t  https://github.com/smohadjer/filterList\n *\n * Licensed under the MIT License\n */\n\nimport * as utils from './utils.js';\n\n'use strict';\n\nexport default class FilterList {\n\tconstructor(options) {\n\t\tthis.urlIsUpdatable = (options.urlIsUpdatable === undefined) ? false : options.urlIsUpdatable;\n\t\tthis.element = options.element;\n\t\tthis.filters = [];\n\t\tthis.filterNames = this.element.getAttribute('data-filter-names').split(' ');\n\t\tthis.initCallback = options.initCallback;\n\t\tthis.filtersCallback = options.filtersCallback;\n\t\tthis.url = window.location.href;\n\t\tthis.lastClass = options.lastClass || 'last';\n\t\tthis.hiddenClass = options.hiddenClass || 'hidden';\n\n\t\tthis.setEventHandlers();\n\t\tthis.setDefaultFilters(this.filterNames);\n\t\tthis.updateFiltersfromURL();\n\t\tthis.updateBrowserHistory();\n\n\t\tif (typeof this.initCallback === 'function') {\n\t\t\tthis.initCallback();\n\t\t}\n\n\t\tthis.applyFilters();\n\t}\n\n\tupdateBrowserHistory() {\n\t\tif (this.urlIsUpdatable && window.history && window.history.pushState) {\n\t\t\tlet state = {};\n\t\t\tstate.filters = this.filters.slice();\n\t\t\thistory.replaceState(state, document.title, this.url);\n\t\t}\n\t}\n\n\tsetDefaultFilters(filterNames) {\n\t\tfilterNames.forEach((filterName) => {\n\t\t\tconst ignoreValue = this.getFilterIgnoreValue(filterName);\n\t\t\tconst filterValue = this.getFilterValue(filterName);\n\n\t\t\tthis.filters.push({\n\t\t\t\tname: filterName,\n\t\t\t\tvalue: filterValue,\n\t\t\t\tignoreValue: ignoreValue\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFilterIgnoreValue(filterName) {\n\t\tconst filterElement = document.querySelector(`[name=\"${filterName}\"]`);\n\t\tlet ignoreValue;\n\n\t\tif (filterElement) {\n\t\t\tif (filterElement.tagName === 'SELECT') {\n\t\t\t\tignoreValue = filterElement.getAttribute('data-ignore');\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn('No filter with name ' + filterName + ' was found in markup!');\n\t\t}\n\n\t\treturn ignoreValue;\n\t}\n\n\tgetFilterValue(filterName) {\n\t\tconst filterElement = document.querySelector(`[name=\"${filterName}\"]`);\n\t\tlet filterValue;\n\n\t\tif (filterElement) {\n\t\t\tif (filterElement.getAttribute('type') === 'checkbox') {\n\t\t\t\tfilterValue = filterElement.checked ? filterElement.value : undefined;\n\t\t\t} else {\n\t\t\t\tfilterValue = filterElement.value;\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn('No filter with name ' + filterName + ' was found in markup!');\n\t\t}\n\n\t\treturn filterValue;\n\t}\n\n\tupdateFiltersfromURL() {\n\t\tthis.filterNames.forEach((filterName) => {\n\t\t\tconst newValue = utils.getUrlParameter(filterName);\n\n\t\t\tif (newValue) {\n\t\t\t\tthis.updateFilters({\n\t\t\t\t\tname: filterName,\n\t\t\t\t\tvalue: newValue\n\t\t\t\t}, true);\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateFilters(updatedFilter, triggerEvent) {\n\t\tlet filter = this.filters.find((filter) => filter.name === updatedFilter.name);\n\n\t\tif (filter && filter.value !== updatedFilter.value) {\n\t\t\tfilter.value = updatedFilter.value;\n\t\t\tthis.applyFilters();\n\n\t\t\tif (triggerEvent) {\n\t\t\t\tthis.updateDOM([filter]);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetEventHandlers() {\n\t\tthis.filterNames.forEach((filterName) => {\n\t\t\tconst filterElement = document.querySelector('[name=\"' + filterName + '\"]');\n\n\t\t\tif (filterElement) {\n\t\t\t\tfilterElement.addEventListener('change', () => {\n\t\t\t\t\tthis.updateFilters({\n\t\t\t\t\t\tname: filterName,\n\t\t\t\t\t\tvalue: this.getFilterValue(filterName)\n\t\t\t\t\t});\n\n\t\t\t\t\tif (this.urlIsUpdatable) {\n\t\t\t\t\t\tthis.updateURL();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif (this.urlIsUpdatable && window.history && window.history.pushState) {\n\t\t\twindow.addEventListener(\"popstate\", (e) => {\n\t\t\t\tif (e.state.filters) {\n\t\t\t\t\tfor (let prop in e.state.filters) {\n\t\t\t\t\t\tthis.filters[prop] = e.state.filters[prop];\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.updateDOM(e.state.filters);\n\t\t\t\t\tthis.applyFilters();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateDOM(filtersArray) {\n\t\tfor (let i in filtersArray) {\n\t\t\tlet filter = filtersArray[i];\n\t\t\tlet filterElement = document.querySelector(`[name=\"${filter.name}\"]`);\n\n\t\t\tif (filterElement) {\n\t\t\t\tif (filterElement.tagName === 'SELECT') {\n\t\t\t\t\tfilterElement.value = filter.value;\n\t\t\t\t}\n\n\t\t\t\tif (filterElement.tagName === 'INPUT') {\n\t\t\t\t\tif (filterElement.getAttribute('type') === 'checkbox') {\n\t\t\t\t\t\tfilterElement.checked = (filterElement.value === filter.value) ? true : false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//public method for changing filters\n\tsetFilters(filters) {\n\t\tfor (let property in filters) {\n\t\t\tthis.filters.forEach(function(item) {\n\t\t\t\tif (item.name === property) {\n\t\t\t\t\titem.value = filters[property];\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tthis.updateDOM(this.filters);\n\t\tthis.applyFilters();\n\n\t\tif (this.urlIsUpdatable) {\n\t\t\tthis.updateURL();\n\t\t}\n\t}\n\n\tapplyFilters() {\n\t\tlet matchedItems = [];\n\t\tconst listItems = this.element.children;\n\n\t\tif (this.lastClass) {\n\t\t\tlet lastVisibleElement = this.element.querySelector(`.${this.lastClass}`);\n\t\t\tif (lastVisibleElement) {\n\t\t\t\tlastVisibleElement.classList.remove(this.lastClass);\n\t\t\t}\n\t\t}\n\n\t\t// If filters are set, only items whose data attributes\n\t\t//match all the set filters would show\n\t\t[...listItems].forEach((element) => {\n\t\t\tlet matched = true;\n\n\t\t\tthis.filters.forEach(function(filter) {\n\t\t\t\tif (filter.value !== undefined && filter.value !== filter.ignoreValue) {\n\t\t\t\t\t//any list item that doesn't have attribute for this filter or\n\t\t\t\t\t//has attribute for this filter with another value should\n\t\t\t\t\t//be filtered out.\n\t\t\t\t\tif (!element.hasAttribute('data-filter-' + filter.name) || element.getAttribute('data-filter-' + filter.name) !== filter.value) {\n\t\t\t\t\t\tmatched = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (matched) {\n\t\t\t\tmatchedItems.push(element);\n\t\t\t}\n\t\t});\n\n\t\t[...listItems].forEach((el) => {\n\t\t\tel.classList.add(this.hiddenClass);\n\t\t});\n\n\t\tif (matchedItems.length !== 0) {\n\t\t\tmatchedItems.forEach((item, i) => {\n\t\t\t\titem.classList.remove(this.hiddenClass);\n\n\t\t\t\t//add a class to last visible item in the list in case last item in list needs special styling\n\t\t\t\tif (this.lastClass && i === matchedItems.length - 1) {\n\t\t\t\t\titem.classList.add(this.lastClass);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.element.classList.remove('is-empty');\n\t\t} else {\n\t\t\tthis.element.classList.add('is-empty');\n\t\t}\n\n\t\tif (typeof this.filtersCallback === 'function') {\n\t\t\tthis.filtersCallback();\n\t\t}\n\t}\n\n\tupdateURL() {\n\t\tif (window.history && window.history.pushState)\t{\n\t\t\tlet state = {};\n\t\t\tstate.filters = Object.assign({}, this.filters);\n\n\t\t\tthis.filters.forEach((filter) => {\n\t\t\t\tif (filter.value !== undefined && filter.value.length !== 0 && filter.value !== filter.ignoreValue) {\n\t\t\t\t\tthis.url = utils.updateQueryStringParameter(this.url, filter.name, filter.value);\n\t\t\t\t} else {\n\t\t\t\t\tthis.url = utils.removeURLParameter(this.url, filter.name);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thistory.pushState(state, document.title, this.url);\n\t\t}\n\t}\n}\n"],"names":["utils.getUrlParameter","utils.updateQueryStringParameter","utils.removeURLParameter"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9zbS9Eb2N1bWVudHMvZmlsdGVyTGlzdC9zcmMvdXRpbHMuanMiLCIvVXNlcnMvc20vRG9jdW1lbnRzL2ZpbHRlckxpc3Qvc3JjL2ZpbHRlckxpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihzUGFyYW0pIHtcblx0dmFyIHNQYWdlVVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcblx0XHRzVVJMVmFyaWFibGVzID0gc1BhZ2VVUkwuc3BsaXQoJyYnKSxcblx0XHRzUGFyYW1ldGVyTmFtZSxcblx0XHRpO1xuXG5cdGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0c1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XG5cblx0XHRpZiAoc1BhcmFtZXRlck5hbWVbMF0gPT09IHNQYXJhbSkge1xuXHRcdFx0cmV0dXJuIHNQYXJhbWV0ZXJOYW1lWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogc1BhcmFtZXRlck5hbWVbMV07XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlcih1cmksIGtleSwgdmFsdWUpIHtcblx0dmFyIHJlID0gbmV3IFJlZ0V4cChcIihbPyZdKVwiICsga2V5ICsgXCI9Lio/KCZ8JClcIiwgXCJpXCIpO1xuXHR2YXIgc2VwYXJhdG9yID0gdXJpLmluZGV4T2YoJz8nKSAhPT0gLTEgPyBcIiZcIiA6IFwiP1wiO1xuXG5cdGlmICh1cmkubWF0Y2gocmUpKSB7XG5cdFx0cmV0dXJuIHVyaS5yZXBsYWNlKHJlLCAnJDEnICsga2V5ICsgXCI9XCIgKyB2YWx1ZSArICckMicpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB1cmkgKyBzZXBhcmF0b3IgKyBrZXkgKyBcIj1cIiArIHZhbHVlO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVVUkxQYXJhbWV0ZXIodXJsLCBwYXJhbWV0ZXIpIHtcbiAgICAvL3ByZWZlciB0byB1c2UgbC5zZWFyY2ggaWYgeW91IGhhdmUgYSBsb2NhdGlvbi9saW5rIG9iamVjdFxuICAgIHZhciB1cmxwYXJ0cz0gdXJsLnNwbGl0KCc/Jyk7XG4gICAgaWYgKHVybHBhcnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZhciBwcmVmaXg9IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbWV0ZXIpKyc9JztcbiAgICAgICAgdmFyIHBhcnM9IHVybHBhcnRzWzFdLnNwbGl0KC9bJjtdL2cpO1xuXG4gICAgICAgIC8vcmV2ZXJzZSBpdGVyYXRpb24gYXMgbWF5IGJlIGRlc3RydWN0aXZlXG4gICAgICAgIGZvciAodmFyIGk9IHBhcnMubGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgICAgLy9pZGlvbSBmb3Igc3RyaW5nLnN0YXJ0c1dpdGhcbiAgICAgICAgICAgIGlmIChwYXJzW2ldLmxhc3RJbmRleE9mKHByZWZpeCwgMCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB1cmw9IHVybHBhcnRzWzBdICsgKHBhcnMubGVuZ3RoID4gMCA/ICc/JyArIHBhcnMuam9pbignJicpIDogXCJcIik7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG4iLCIvKlxuICogQG5hbWUgICAgICAgICAgZmlsdGVyTGlzdC5qc1xuICogQHZlcnNpb24gICAgICAgMy4xLjBcbiAqIEBsYXN0bW9kaWZpZWQgIDIwMTgtMDItMDZcbiAqIEBhdXRob3IgICAgICAgIFNhZWlkIE1vaGFkamVyXG4gKiBAcmVwb1x0XHQgIGh0dHBzOi8vZ2l0aHViLmNvbS9zbW9oYWRqZXIvZmlsdGVyTGlzdFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5cbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlckxpc3Qge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0dGhpcy51cmxJc1VwZGF0YWJsZSA9IChvcHRpb25zLnVybElzVXBkYXRhYmxlID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBvcHRpb25zLnVybElzVXBkYXRhYmxlO1xuXHRcdHRoaXMuZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcblx0XHR0aGlzLmZpbHRlcnMgPSBbXTtcblx0XHR0aGlzLmZpbHRlck5hbWVzID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXItbmFtZXMnKS5zcGxpdCgnICcpO1xuXHRcdHRoaXMuaW5pdENhbGxiYWNrID0gb3B0aW9ucy5pbml0Q2FsbGJhY2s7XG5cdFx0dGhpcy5maWx0ZXJzQ2FsbGJhY2sgPSBvcHRpb25zLmZpbHRlcnNDYWxsYmFjaztcblx0XHR0aGlzLnVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcdHRoaXMubGFzdENsYXNzID0gb3B0aW9ucy5sYXN0Q2xhc3MgfHwgJ2xhc3QnO1xuXHRcdHRoaXMuaGlkZGVuQ2xhc3MgPSBvcHRpb25zLmhpZGRlbkNsYXNzIHx8ICdoaWRkZW4nO1xuXG5cdFx0dGhpcy5zZXRFdmVudEhhbmRsZXJzKCk7XG5cdFx0dGhpcy5zZXREZWZhdWx0RmlsdGVycyh0aGlzLmZpbHRlck5hbWVzKTtcblx0XHR0aGlzLnVwZGF0ZUZpbHRlcnNmcm9tVVJMKCk7XG5cdFx0dGhpcy51cGRhdGVCcm93c2VySGlzdG9yeSgpO1xuXG5cdFx0aWYgKHR5cGVvZiB0aGlzLmluaXRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dGhpcy5pbml0Q2FsbGJhY2soKTtcblx0XHR9XG5cblx0XHR0aGlzLmFwcGx5RmlsdGVycygpO1xuXHR9XG5cblx0dXBkYXRlQnJvd3Nlckhpc3RvcnkoKSB7XG5cdFx0aWYgKHRoaXMudXJsSXNVcGRhdGFibGUgJiYgd2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG5cdFx0XHRsZXQgc3RhdGUgPSB7fTtcblx0XHRcdHN0YXRlLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnMuc2xpY2UoKTtcblx0XHRcdGhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBkb2N1bWVudC50aXRsZSwgdGhpcy51cmwpO1xuXHRcdH1cblx0fVxuXG5cdHNldERlZmF1bHRGaWx0ZXJzKGZpbHRlck5hbWVzKSB7XG5cdFx0ZmlsdGVyTmFtZXMuZm9yRWFjaCgoZmlsdGVyTmFtZSkgPT4ge1xuXHRcdFx0Y29uc3QgaWdub3JlVmFsdWUgPSB0aGlzLmdldEZpbHRlcklnbm9yZVZhbHVlKGZpbHRlck5hbWUpO1xuXHRcdFx0Y29uc3QgZmlsdGVyVmFsdWUgPSB0aGlzLmdldEZpbHRlclZhbHVlKGZpbHRlck5hbWUpO1xuXG5cdFx0XHR0aGlzLmZpbHRlcnMucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGZpbHRlck5hbWUsXG5cdFx0XHRcdHZhbHVlOiBmaWx0ZXJWYWx1ZSxcblx0XHRcdFx0aWdub3JlVmFsdWU6IGlnbm9yZVZhbHVlXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGdldEZpbHRlcklnbm9yZVZhbHVlKGZpbHRlck5hbWUpIHtcblx0XHRjb25zdCBmaWx0ZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2ZpbHRlck5hbWV9XCJdYCk7XG5cdFx0bGV0IGlnbm9yZVZhbHVlO1xuXG5cdFx0aWYgKGZpbHRlckVsZW1lbnQpIHtcblx0XHRcdGlmIChmaWx0ZXJFbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG5cdFx0XHRcdGlnbm9yZVZhbHVlID0gZmlsdGVyRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWdub3JlJyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybignTm8gZmlsdGVyIHdpdGggbmFtZSAnICsgZmlsdGVyTmFtZSArICcgd2FzIGZvdW5kIGluIG1hcmt1cCEnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaWdub3JlVmFsdWU7XG5cdH1cblxuXHRnZXRGaWx0ZXJWYWx1ZShmaWx0ZXJOYW1lKSB7XG5cdFx0Y29uc3QgZmlsdGVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtmaWx0ZXJOYW1lfVwiXWApO1xuXHRcdGxldCBmaWx0ZXJWYWx1ZTtcblxuXHRcdGlmIChmaWx0ZXJFbGVtZW50KSB7XG5cdFx0XHRpZiAoZmlsdGVyRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94Jykge1xuXHRcdFx0XHRmaWx0ZXJWYWx1ZSA9IGZpbHRlckVsZW1lbnQuY2hlY2tlZCA/IGZpbHRlckVsZW1lbnQudmFsdWUgOiB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmaWx0ZXJWYWx1ZSA9IGZpbHRlckVsZW1lbnQudmFsdWU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybignTm8gZmlsdGVyIHdpdGggbmFtZSAnICsgZmlsdGVyTmFtZSArICcgd2FzIGZvdW5kIGluIG1hcmt1cCEnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmlsdGVyVmFsdWU7XG5cdH1cblxuXHR1cGRhdGVGaWx0ZXJzZnJvbVVSTCgpIHtcblx0XHR0aGlzLmZpbHRlck5hbWVzLmZvckVhY2goKGZpbHRlck5hbWUpID0+IHtcblx0XHRcdGNvbnN0IG5ld1ZhbHVlID0gdXRpbHMuZ2V0VXJsUGFyYW1ldGVyKGZpbHRlck5hbWUpO1xuXG5cdFx0XHRpZiAobmV3VmFsdWUpIHtcblx0XHRcdFx0dGhpcy51cGRhdGVGaWx0ZXJzKHtcblx0XHRcdFx0XHRuYW1lOiBmaWx0ZXJOYW1lLFxuXHRcdFx0XHRcdHZhbHVlOiBuZXdWYWx1ZVxuXHRcdFx0XHR9LCB0cnVlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHVwZGF0ZUZpbHRlcnModXBkYXRlZEZpbHRlciwgdHJpZ2dlckV2ZW50KSB7XG5cdFx0bGV0IGZpbHRlciA9IHRoaXMuZmlsdGVycy5maW5kKChmaWx0ZXIpID0+IGZpbHRlci5uYW1lID09PSB1cGRhdGVkRmlsdGVyLm5hbWUpO1xuXG5cdFx0aWYgKGZpbHRlciAmJiBmaWx0ZXIudmFsdWUgIT09IHVwZGF0ZWRGaWx0ZXIudmFsdWUpIHtcblx0XHRcdGZpbHRlci52YWx1ZSA9IHVwZGF0ZWRGaWx0ZXIudmFsdWU7XG5cdFx0XHR0aGlzLmFwcGx5RmlsdGVycygpO1xuXG5cdFx0XHRpZiAodHJpZ2dlckV2ZW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlRE9NKFtmaWx0ZXJdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzZXRFdmVudEhhbmRsZXJzKCkge1xuXHRcdHRoaXMuZmlsdGVyTmFtZXMuZm9yRWFjaCgoZmlsdGVyTmFtZSkgPT4ge1xuXHRcdFx0Y29uc3QgZmlsdGVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiJyArIGZpbHRlck5hbWUgKyAnXCJdJyk7XG5cblx0XHRcdGlmIChmaWx0ZXJFbGVtZW50KSB7XG5cdFx0XHRcdGZpbHRlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMudXBkYXRlRmlsdGVycyh7XG5cdFx0XHRcdFx0XHRuYW1lOiBmaWx0ZXJOYW1lLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHRoaXMuZ2V0RmlsdGVyVmFsdWUoZmlsdGVyTmFtZSlcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICh0aGlzLnVybElzVXBkYXRhYmxlKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVVSTCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAodGhpcy51cmxJc1VwZGF0YWJsZSAmJiB3aW5kb3cuaGlzdG9yeSAmJiB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpIHtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgKGUpID0+IHtcblx0XHRcdFx0aWYgKGUuc3RhdGUuZmlsdGVycykge1xuXHRcdFx0XHRcdGZvciAobGV0IHByb3AgaW4gZS5zdGF0ZS5maWx0ZXJzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmZpbHRlcnNbcHJvcF0gPSBlLnN0YXRlLmZpbHRlcnNbcHJvcF07XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdHRoaXMudXBkYXRlRE9NKGUuc3RhdGUuZmlsdGVycyk7XG5cdFx0XHRcdFx0dGhpcy5hcHBseUZpbHRlcnMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlRE9NKGZpbHRlcnNBcnJheSkge1xuXHRcdGZvciAobGV0IGkgaW4gZmlsdGVyc0FycmF5KSB7XG5cdFx0XHRsZXQgZmlsdGVyID0gZmlsdGVyc0FycmF5W2ldO1xuXHRcdFx0bGV0IGZpbHRlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZmlsdGVyLm5hbWV9XCJdYCk7XG5cblx0XHRcdGlmIChmaWx0ZXJFbGVtZW50KSB7XG5cdFx0XHRcdGlmIChmaWx0ZXJFbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG5cdFx0XHRcdFx0ZmlsdGVyRWxlbWVudC52YWx1ZSA9IGZpbHRlci52YWx1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChmaWx0ZXJFbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcblx0XHRcdFx0XHRpZiAoZmlsdGVyRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94Jykge1xuXHRcdFx0XHRcdFx0ZmlsdGVyRWxlbWVudC5jaGVja2VkID0gKGZpbHRlckVsZW1lbnQudmFsdWUgPT09IGZpbHRlci52YWx1ZSkgPyB0cnVlIDogZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly9wdWJsaWMgbWV0aG9kIGZvciBjaGFuZ2luZyBmaWx0ZXJzXG5cdHNldEZpbHRlcnMoZmlsdGVycykge1xuXHRcdGZvciAobGV0IHByb3BlcnR5IGluIGZpbHRlcnMpIHtcblx0XHRcdHRoaXMuZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdFx0aWYgKGl0ZW0ubmFtZSA9PT0gcHJvcGVydHkpIHtcblx0XHRcdFx0XHRpdGVtLnZhbHVlID0gZmlsdGVyc1twcm9wZXJ0eV07XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR0aGlzLnVwZGF0ZURPTSh0aGlzLmZpbHRlcnMpO1xuXHRcdHRoaXMuYXBwbHlGaWx0ZXJzKCk7XG5cblx0XHRpZiAodGhpcy51cmxJc1VwZGF0YWJsZSkge1xuXHRcdFx0dGhpcy51cGRhdGVVUkwoKTtcblx0XHR9XG5cdH1cblxuXHRhcHBseUZpbHRlcnMoKSB7XG5cdFx0bGV0IG1hdGNoZWRJdGVtcyA9IFtdO1xuXHRcdGNvbnN0IGxpc3RJdGVtcyA9IHRoaXMuZWxlbWVudC5jaGlsZHJlbjtcblxuXHRcdGlmICh0aGlzLmxhc3RDbGFzcykge1xuXHRcdFx0bGV0IGxhc3RWaXNpYmxlRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLmxhc3RDbGFzc31gKTtcblx0XHRcdGlmIChsYXN0VmlzaWJsZUVsZW1lbnQpIHtcblx0XHRcdFx0bGFzdFZpc2libGVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5sYXN0Q2xhc3MpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIGZpbHRlcnMgYXJlIHNldCwgb25seSBpdGVtcyB3aG9zZSBkYXRhIGF0dHJpYnV0ZXNcblx0XHQvL21hdGNoIGFsbCB0aGUgc2V0IGZpbHRlcnMgd291bGQgc2hvd1xuXHRcdFsuLi5saXN0SXRlbXNdLmZvckVhY2goKGVsZW1lbnQpID0+IHtcblx0XHRcdGxldCBtYXRjaGVkID0gdHJ1ZTtcblxuXHRcdFx0dGhpcy5maWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBmaWx0ZXIudmFsdWUgIT09IGZpbHRlci5pZ25vcmVWYWx1ZSkge1xuXHRcdFx0XHRcdC8vYW55IGxpc3QgaXRlbSB0aGF0IGRvZXNuJ3QgaGF2ZSBhdHRyaWJ1dGUgZm9yIHRoaXMgZmlsdGVyIG9yXG5cdFx0XHRcdFx0Ly9oYXMgYXR0cmlidXRlIGZvciB0aGlzIGZpbHRlciB3aXRoIGFub3RoZXIgdmFsdWUgc2hvdWxkXG5cdFx0XHRcdFx0Ly9iZSBmaWx0ZXJlZCBvdXQuXG5cdFx0XHRcdFx0aWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1maWx0ZXItJyArIGZpbHRlci5uYW1lKSB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXItJyArIGZpbHRlci5uYW1lKSAhPT0gZmlsdGVyLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKG1hdGNoZWQpIHtcblx0XHRcdFx0bWF0Y2hlZEl0ZW1zLnB1c2goZWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRbLi4ubGlzdEl0ZW1zXS5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0ZWwuY2xhc3NMaXN0LmFkZCh0aGlzLmhpZGRlbkNsYXNzKTtcblx0XHR9KTtcblxuXHRcdGlmIChtYXRjaGVkSXRlbXMubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRtYXRjaGVkSXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5oaWRkZW5DbGFzcyk7XG5cblx0XHRcdFx0Ly9hZGQgYSBjbGFzcyB0byBsYXN0IHZpc2libGUgaXRlbSBpbiB0aGUgbGlzdCBpbiBjYXNlIGxhc3QgaXRlbSBpbiBsaXN0IG5lZWRzIHNwZWNpYWwgc3R5bGluZ1xuXHRcdFx0XHRpZiAodGhpcy5sYXN0Q2xhc3MgJiYgaSA9PT0gbWF0Y2hlZEl0ZW1zLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5hZGQodGhpcy5sYXN0Q2xhc3MpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWVtcHR5Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1lbXB0eScpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdGhpcy5maWx0ZXJzQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMuZmlsdGVyc0NhbGxiYWNrKCk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlVVJMKCkge1xuXHRcdGlmICh3aW5kb3cuaGlzdG9yeSAmJiB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpXHR7XG5cdFx0XHRsZXQgc3RhdGUgPSB7fTtcblx0XHRcdHN0YXRlLmZpbHRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZpbHRlcnMpO1xuXG5cdFx0XHR0aGlzLmZpbHRlcnMuZm9yRWFjaCgoZmlsdGVyKSA9PiB7XG5cdFx0XHRcdGlmIChmaWx0ZXIudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBmaWx0ZXIudmFsdWUubGVuZ3RoICE9PSAwICYmIGZpbHRlci52YWx1ZSAhPT0gZmlsdGVyLmlnbm9yZVZhbHVlKSB7XG5cdFx0XHRcdFx0dGhpcy51cmwgPSB1dGlscy51cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlcih0aGlzLnVybCwgZmlsdGVyLm5hbWUsIGZpbHRlci52YWx1ZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy51cmwgPSB1dGlscy5yZW1vdmVVUkxQYXJhbWV0ZXIodGhpcy51cmwsIGZpbHRlci5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBkb2N1bWVudC50aXRsZSwgdGhpcy51cmwpO1xuXHRcdH1cblx0fVxufVxuIl0sIm5hbWVzIjpbInV0aWxzLmdldFVybFBhcmFtZXRlciIsInV0aWxzLnVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyIiwidXRpbHMucmVtb3ZlVVJMUGFyYW1ldGVyIl0sIm1hcHBpbmdzIjoiOzs7QUFBTyxTQUFTLGVBQWUsQ0FBQyxNQUFNLEVBQUU7Q0FDdkMsSUFBSSxRQUFRLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3JFLGFBQWEsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztFQUNuQyxjQUFjO0VBQ2QsQ0FBQyxDQUFDOztDQUVILEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtFQUMxQyxjQUFjLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzs7RUFFN0MsSUFBSSxjQUFjLENBQUMsQ0FBQyxDQUFDLEtBQUssTUFBTSxFQUFFO0dBQ2pDLE9BQU8sY0FBYyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsR0FBRyxJQUFJLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQ2xFO0VBQ0Q7Q0FDRDs7QUFFRCxBQUFPLFNBQVMsMEJBQTBCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7Q0FDM0QsSUFBSSxFQUFFLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBRyxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUM7Q0FDdkQs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"}